<div class="flash success">
  <h2>Yo dawg, I heard you like flashes.</h2>
</div>

<script type="text/javascript">

// js so that when someone clicks on a contenteditable field it automatically selects all text.
jQuery.fn.selectText = function(){
    var doc = document
        , element = this[0]
        , range, selection
    ;
    if (doc.body.createTextRange) {
        range = document.body.createTextRange();
        range.moveToElementText(element);
        range.select();
    } else if (window.getSelection) {
        selection = window.getSelection();
        range = document.createRange();
        range.selectNodeContents(element);
        selection.removeAllRanges();
        selection.addRange(range);
    }
};
$(function(){
  $('.productEdits').click(function() {
    $(this).selectText();
  });
})();

if ( $('.flash') ) {
  $('#header').css('margin-bottom','70px');
}

</script>

<div id="productLeftCol">

  <div class="productGallery">
    <img id="productImage" class="noImage" src="/images/clickToUpload.png">
  </div>

  <div id="productDetials">

    <%= editable_area "h1", "titleEdits" do %>
      Enter Title Here
    <% end %>
    <!-- <h1 class="productEdits" contenteditable="true" id="titleEdits">Enter title here</h1> -->

    <div class="productStats editMode">
      <div class="fieldRow">
          <p class="key">Manufacturer</p>
          <p class="value" contenteditable="true">Edit this</p>
      </div>
      <div class="fieldRow">
        <p class="key">Condtion</p>
        <p class="value" contenteditable="true">Edit this</p>
      </div>
      <div class="fieldRow">
        <p class="key">Year</p>
        <p class="value" contenteditable="true">Edit this</p>
      </div>

      <div class="breakLine">
        <p>All inputs above this line are required</p>
        <div class="horizontalLine"></div>
        <p>The more fields you select and fill out the most attractive it will be to a buyer.</p>
      </div>

      <div id="rowCreator">
        <select>
          <option>Select one</option>
          <option value="Material">Material</option>
          <option value="Dimensions">Dimensions</option>
        </select>
        <p>< Select an attribute</p>
      </div>
    </div>
      <p class="productEdits" id="descriptionEdits" contenteditable="true">Enter product description here. Up to 450 characters. The best descriptions are to the point, clearly describe the condtion of what you're selling, say a little bit about your and why you're selling it, and a little humor.</p>

  </div>

</div>

<div id="productRightCol">

  <div id="publishBtn">Post</div>

  <div class="widget bidWidget">
    <p>Enter starting amount:</p>
    <input id="startAmount" type="text" placeholder="Starting Amount">
  </div>

  <div class="widget userWidget editMode">
      <img src="<%= current_user.thumbnail_url %>">
      <h4><%= current_user.name %></h4>
      <p><%= current_user.description %></p>
      <div style="clear: both;"></div>
  </div>

</div>

<%= form_for @post, url: create_post_path, html: { enctype: "multipart/form-data", id: "HIDDENForm" } do |f| %>
  <%= f.fields_for :images do |b| %>
    <%= b.file_field :data, id: "HIDDENImageName" %><br>
  <% end %>
  <%= f.text_area(:title, id: "HIDDENTitle") %>
  <%= f.text_area(:description, id: "HIDDENDescription") %>
  <%= f.text_area(:'starting_bid', id: "HIDDENStartingPrice") %>
  <%#= f.text_area(:'fields[manufacturer]') %>
  <%#= f.text_area(:'fields[condtion]') %>
  <%#= f.text_area(:'fields[year]') %>
<% end %>
